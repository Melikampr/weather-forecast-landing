(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{tD:()=>y,nh:()=>B});var t,n=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function c(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}u((r=r.apply(e,t||[])).next())}))},r=function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function o(){return n(this,void 0,void 0,(function(){var e,n,o;return r(this,(function(r){switch(r.label){case 0:return e=y.split(", "),n=e[0],o=e[1],[4,fetch("https://api.weatherapi.com/v1/forecast.json?key=".concat("79b018d6047e4db0bc1140248231609","&q=").concat(n,",").concat(o,"&days=1&aqi=no&alerts=no")).then((function(e){return e.json()})).then((function(e){t=e}))];case 1:return r.sent(),[2]}}))}))}function a(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,o()];case 1:return e.sent(),function(){var e=document.getElementById("location-name");e&&(e.innerHTML=t.location.name+", "+t.location.country);var n=document.getElementById("temperature");n&&(n.innerHTML=t.current.temp_c+"°");var r=document.getElementById("weather-icon"),o="https://"+t.current.condition.icon;r&&r.setAttribute("src",o);var a=document.getElementById("weather-condition");a&&(a.innerHTML=t.current.condition.text);var i=document.getElementById("date");i&&(i.innerHTML=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c.getDay()]+", "+c.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][c.getMonth()])}(),function(){var e=document.getElementById("max-temp");e&&(e.innerHTML=t.forecast.forecastday[0].day.maxtemp_c+"°");var n=document.getElementById("min-temp");n&&(n.innerHTML=t.forecast.forecastday[0].day.mintemp_c+"°");var r=document.getElementById("humidity");r&&(r.innerHTML=t.forecast.forecastday[0].day.avghumidity+"%");var o=document.getElementById("wind");o&&(o.innerHTML=t.forecast.forecastday[0].day.avgvis_km+" km/h");var a=document.getElementById("rain");a&&(a.innerHTML=t.forecast.forecastday[0].day.daily_chance_of_rain+"%");var c=document.getElementById("snow");c&&(c.innerHTML=t.forecast.forecastday[0].day.daily_chance_of_snow+"%")}(),[2]}}))}))}var c;function i(){var e,t,n,r;document.getElementsByClassName("modal-container")[0].style.display="flex",t=(e=c=new Date).toDateString(),n=e.toLocaleTimeString(),null!==(r=document.getElementById("request-time"))&&(r.innerHTML="Last request time: "+n+" - "+t)}function u(){return e=this,t=void 0,r=function(){return function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){switch(e.label){case 0:return document.getElementsByClassName("modal-container")[0].style.display="none",[4,a()];case 1:return e.sent(),function(){var e=document.getElementById("request-history");e&&(e.style.display="flex",e.style.flexDirection="column",e.style.gap="2rem");var t=document.getElementById("history-text");t&&(t.style.display="none");var n=document.getElementById("page-content");n&&(n.style.marginTop="3.5rem",n.style.gap="1.5rem");var r=document.getElementById("modal-button");r&&(r.style.fontSize="small",r.style.padding="0.5rem");var o=document.getElementById("search-location");o&&(o.style.width="50%")}(),[2]}}))},new((n=void 0)||(n=Promise))((function(o,a){function c(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}var l,s,d=document.querySelector("#table-container");function f(e){return t=this,n=void 0,o=function(){return function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return s=e,[4,fetch("https://api.weatherapi.com/v1/search.json?key=".concat("79b018d6047e4db0bc1140248231609","&q=").concat(s)).then((function(e){return e.json()})).then((function(e){l=e}))];case 1:return t.sent(),function(){if(h(),d)if(l.length>0){var e=document.createElement("table");e.className="table";var t=document.createElement("thead"),n=document.createElement("tr");["","City","Country"].forEach((function(e,t){var r=document.createElement("th");r.textContent=e,n.appendChild(r)})),t.appendChild(n);var r=document.createElement("tbody");l.forEach((function(e,t){var n=document.createElement("tr");n.addEventListener("click",(function(){return B(t)})),n.className="cursor-pointer border-t-2 border-gray-600 hover";var o=document.createElement("th");o.textContent=(t+1).toString(),o.id="index-th";var a=document.createElement("td");a.textContent=e.name,a.className="center-td";var c=document.createElement("td");c.textContent=e.country,n.appendChild(o),n.appendChild(a),n.appendChild(c),n.id="table-row",r.appendChild(n)})),e.appendChild(t),e.appendChild(r),d.appendChild(e)}else if(s.length>2){var o=document.createElement("div");o.className="no-result",o.innerHTML="There is no result...",d.appendChild(o)}}(),[2]}}))},new((r=void 0)||(r=Promise))((function(e,a){function c(e){try{u(o.next(e))}catch(e){a(e)}}function i(e){try{u(o.throw(e))}catch(e){a(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(c,i)}u((o=o.apply(t,n||[])).next())}));var t,n,r,o}function h(){if(d){var e=d.querySelector("table"),t=d.querySelector("div");e&&d.removeChild(e),t&&d.removeChild(t)}}var y,p,m,v=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function c(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}u((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(c=0)),c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},w=document.getElementById("search-input");function g(e,t){y=e+", "+t}var E=function(e){return v(this,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:return p=e.coords.latitude.toString(),m=e.coords.longitude.toString(),g(p,m),(t=document.getElementById("modal_content"))?[4,t.setAttribute("src","https://weather-app-4b39f.web.app?q="+y)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))};function x(){return v(this,void 0,void 0,(function(){var e,t;return b(this,(function(n){switch(n.label){case 0:if(!navigator.geolocation)return[3,6];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))];case 2:return e=n.sent(),[4,E(e)];case 3:return n.sent(),[2,!0];case 4:return t=n.sent(),console.log(t),[2,!1];case 5:return[3,7];case 6:return console.log("Geolocation is not supported by this browser."),[2,!1];case 7:return[2]}}))}))}function B(e){return v(this,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:return p=l[e].lat,m=l[e].lon,g(p,m),(t=document.getElementById("modal_content"))?[4,t.setAttribute("src","https://weather-app-4b39f.web.app?q="+y)]:[3,2];case 1:n.sent(),n.label=2;case 2:return h(),i(),w&&(w.value=""),[2]}}))}))}window.onresize=function(){var e=document.getElementsByClassName("modal-container")[0];e.style.height=window.innerHeight+"px",e.style.width=window.innerWidth+"px"},w.addEventListener("input",(function(e){f(e.target.value)})),document.getElementById("modal-button").addEventListener("click",(function(){!function(){v(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,x().then((function(e){e&&i()}))];case 1:return e.sent(),[2]}}))}))}()})),document.querySelector(".hide_modal").addEventListener("click",(function(){u()})),w&&(w.value="")})();